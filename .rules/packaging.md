# Создание .vsix файла и установка расширения

Этот документ описывает процесс упаковки вашего расширения в файл `.vsix` и его последующую установку.

## 1. Подготовка (Предварительные требования)

Для упаковки используется утилита `vsce` (Visual Studio Code Extensions).

1.  **Установите Node.js**, если он еще не установлен.
2.  **Установите vsce глобально**:
    Откройте терминал и выполните команду:
    ```bash
    npm install -g @vscode/vsce
    ```

## 2. Настройка package.json

Перед упаковкой убедитесь, что в вашем `package.json` заполнены следующие обязательные поля:

*   **publisher**: Ваше имя пользователя или название организации (должно совпадать с ID на Marketplace, если планируете публикацию, или может быть любым для локального использования).
*   **name**: Имя расширения.
*   **version**: Версия (например, `1.0.0`).
*   **repository**: Ссылка на репозиторий (рекомендуется, но может предупреждать, если нет).
*   **engines**: Совместимая версия VSCode (например, `^1.60.0`).

Пример добавления publisher:
```json
"publisher": "myname",
```

## 3. Упаковка расширения

1.  Откройте терминал в корневой папке вашего проекта (где находится `package.json`).
2.  Выполните команду:
    ```bash
    vsce package
    ```
3.  Если все пройдет успешно, в папке появится файл с расширением `.vsix` (например, `my-extension-1.0.0.vsix`).

> **Важно**: Утилита `vsce` автоматически запускает `npm run vscode:prepublish` (обычно это сборка проекта). Убедитесь, что ваш проект собирается без ошибок.

### Возможные ошибки и решения:
*   **Missing publisher name**: Добавьте поле `"publisher": "..."` в `package.json`.
*   **Make sure to edit the README.md**: Измените стандартный README файл, иначе `vsce` может отказать в упаковке.

## 4. Установка .vsix файла

### Способ 1: Через интерфейс VSCode
1.  Откройте VSCode.
2.  Перейдите во вкладку **Расширения (Extensions)** (`Ctrl+Shift+X`).
3.  Нажмите на меню "..." (Additional Views) в верхнем правом углу панели расширений.
4.  Выберите **Install from VSIX...**.
5.  Выберите созданный файл `.vsix`.
6.  После установки, возможно, потребуется перезагрузить VSCode.

### Способ 2: Через командную строку
Вы можете установить расширение прямо из терминала:
```bash
code --install-extension my-extension-1.0.0.vsix
```

## 5. Обновление расширения
Если вы внесли изменения в код:
1.  Увеличьте версию в `package.json` (например, с `1.0.0` на `1.0.1`).
2.  Снова выполните `vsce package`.
3.  Установите новый `.vsix` файл (он обновит предыдущую версию).
